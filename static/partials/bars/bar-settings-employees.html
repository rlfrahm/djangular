<div class="row">
  <div class="col-xs-12 col-sm-6 col-md-4" ng-repeat="employee in employees">
    <a href class="thumbnail text-center">
      <img ng-src="{[{ employee.user_avatar }]}" height="100px" style="margin: 0 auto">
      <p>{[{ employee.user_firstname + ' ' + employee.user_lastname }]}</p>
      <span ng-repeat="role in employee.roles" class="label label-info">{[{ role }]}</span>
    </a>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-4">
    <a href class="thumbnail text-center" ng-click="inviteEmployee()">
      <img src="/static/images/add_bartender.png" height="100px" style="margin: 0 auto">
      <p>Add Employee</p>
    </a>
  </div>
</div>
<script type="text/ng-template" id="invite-employee.html">
  <form name="form" ng-submit="submitInviteEmployee(form, invite, $close)">
    <div class="modal-header">
        <h3 class="modal-title">Invite Employee</h3>
    </div>
    <div class="list-group">
      <div class="list-group-item media clearfix" ng-if="invite">
        <div class="col-xs-2">
          <div class="row">
            <img class="media-object" ng-src="{[{ invite.avatar }]}" height="40px">
          </div>
        </div>
        <div class="col-xs-8">
          <h4 class="media-heading">{[{ (invite.email) ? invite.email : invite.first_name + ' ' + invite.last_name }]}</h4>
          <p ng-class="{'has-error':form.role.$invalid}">
            <select class="form-control input-sm" name="role" value="" ng-model="invite.role" ng-init="invite.role=''" required style="width:125px">
              <option value="" disabled selected>Select role</option>
              <option value="bartender">Bartender</option>
              <option value="manager">Manager</option>
            </select>
          </p>
        </div>
        <div class="col-xs-2">
          <button type="button" class="close" aria-label="Close" ng-click="removeUser(invite)"><span aria-hidden="true">&times;</span></button>
        </div>
      </div>
    </div>
    <div class="modal-body">
      <div class="form-group" dropdown is-open="searching">
        <input type="text" class="form-control input-lg" placeholder="Search..." ng-model="search.term" ng-model-options="{ debounce: 500 }" ng-change="search(search.term)" dropdown-toggle>
        <div class="dropdown-menu list-group" style="width:100%" ng-show="users">
          <a class="list-group-item pointer" ng-click="selectUser()" style="padding-top:20px;padding-bottom:20px">
            <p class="text-center" ng-class="{'text-success': isValidEmail(search.term), 'text-danger': !isValidEmail(search.term)}">Invite new user: {[{ search.term }]}</p>
          </a>
          <a ng-repeat="result in users" class="list-group-item pointer" ng-click="selectUser(result)">
            <div class="media">
              <div class="col-xs-3 col-sm-2 col-md-3">
                <img ng-src="{[{ result.avatar }]}" height="45px" class="media-object">
              </div>
              <div class="col-xs-9 col-sm-10 col-md-9">
                <h4 class="media-heading">{[{ result.first_name + ' ' + result.last_name }]}</h4>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
    <div class="modal-footer clearfix">
      <loader class="pull-left"></loader>
      <button class="btn btn-link btn-lg" type="button" ng-click="$dismiss('cancel')">Cancel</button>
      <button class="btn btn-primary btn-lg" type="submit" ng-disabled="!invite">Invite</button>
    </div>
  </form>
</script>
