<form ng-submit="submit()">
  <div class="list-group-item">
    <dl class="dl-horizontal">
      <dt>For:</dt>
      <dd><span ng-repeat="email in tab.emails">{[{ email }]}&nbsp;</span></dd>
    </dl>
  </div>
  <div class="list-group-item">
    <dl class="dl-horizontal">
      <dt>Cost:</dt>
      <dd>{[{ tab.amount | currency }]}</dd>
    </dl>
  </div>
  <div class="list-group-item" payment-source>
    <dl class="dl-horizontal">
      <dt>Payment Method:</dt>
      <dd dropdown>
        <a href dropdown-toggle>{[{ (selectedSource)?selectedSource.object + ' *' + selectedSource.last4 : 'Select' }]}&nbsp;<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li ng-repeat="source in sources"><a href ng-click="selectSource(source)">{[{ source.object }]} *{[{ source.last4 }]}</a></li>
          <li class="divider"></li>
          <li><a href ng-click="addNewPaymentMethod()">Add New</a></li>
        </ul>
      </dd>
    </dl>
  </div>
  <div class="list-group-item" max-length="140">
    <textarea rows="4" ng-model="tab.note" class="form-control" ng-change="calc(tab.note)" placeholder="Add a note.."></textarea>
    <p ng-class="{'text-danger': length > maxLength}">{[{ length || 0 }]} / {[{ maxLength }]}</p>
  </div>
  <div class="list-group-item clearfix">
    <button type="submit" class="btn btn-primary btn-lg pull-right">Submit</button>
  </div>
</form>
<script type="text/ng-template" id="select-payment-method.html">
  <form name="form" ng-submit="$close(invite.email)">
    <div class="modal-header">
      <h3 class="modal-title">New Payment Method</h3>
    </div>
    <div class="modal-body">
      <div class="row">
        <div class="col-xs-12 col-centered">
          <h4>Add Card</h4>
          <div class="form-group">
            <div class="row">
              <div class="col-xs-9">
                <label>Card Number</label>
                <input type="text" class="form-control" ng-model="newcard.number">
              </div>
              <div class="col-xs-3">
                <label>CVC</label>
                <input type="text" class="form-control" ng-model="newcard.cvc">
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-xs-12">
                <label>Month</label>
                <input type="month" class="form-control" placeholder="MM" ng-model="newcard.month">
              </div>
              <div class="col-xs-6">
                <label>Year</label>
                <input type="number" min="2014" max="2999" step="1" class="form-control" placeholder="YYYY" ng-model="newcard.year">
              </div>
            </div> 
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-link btn-lg" type="button" ng-click="$dismiss('cancel')">Cancel</button>
      <button class="btn btn-primary btn-lg" type="submit">Select</button>
    </div>
  </form>
</script>